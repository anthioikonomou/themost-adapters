{"version":3,"sources":["index.es6"],"names":["createInstance","oracledb","async","util","_","SqlFormatter","QueryExpression","QueryField","TraceUtils","SqlUtils","OracleAdapter","options","host","rawConnection","connectString","Object","defineProperty","get","port","service","type","instance","callback","self","getConnection","user","password","err","connection","release","process","env","NODE_ENV","console","log","message","stack","e","query","values","prepare","fn","open","transaction","call","rollback","commit","name","view","create","obj","migration","format","result","test","replace","formatType","waterfall","cb","supportMigrations","table","exists","arg","eachSeries","s","cb0","execute","appliesTo","version","add","column","newType","oldType","findColumnFunc","find","x","isArray","remove","length","Error","change","columns","i","bind","primary","splice","precision","scale","toUpperCase","toString","nullable","size","push","targetTable","model","description","entity","attribute","selectIdentity","batch","owner","matches","exec","schema","sql","count","hasSequence","fields","strFields","map","filter","oneToMany","join","strTable","formatter","OracleFormatter","escapeName","strPKFields","drop","undefined","q","thisArg","executeInTransaction","tr","$fixed","JSON","stringify","prepared","outFormat","OBJECT","autoCommit","rows","field","parseInt","concat","zeroPad","number","res","settings","nameFormat","NAME_FORMAT","forceAlias","value","unquoted","Date","escapeDate","SINGLE_QUOTE_ESCAPE","DOUBLE_QUOTE_ESCAPE","SLASH_ESCAPE","val","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minute","getMinutes","second","getSeconds","offset","getTimezoneOffset","timezone","Math","floor","getMilliseconds","formatSelect","$take","$skip","p0","p1","escape","pos","valueOf","isNil","REGEXP_SINGLE_QUOTE","REGEXP_DOUBLE_QUOTE","REGEXP_SLASH"],"mappings":"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","file":"index.js","sourcesContent":["/**\n * @license\n * MOST Web Framework 2.0 Codename Blueshift\n * Copyright (c) 2014, Kyriakos Barbounakis k.barbounakis@gmail.com\n *                     Anthi Oikonomou anthioikonomou@gmail.com\n *\n * Use of this source code is governed by an BSD-3-Clause license that can be\n * found in the LICENSE file at https://themost.io/license\n */\nimport oracledb from 'oracledb';\nimport async from 'async';\nimport util from 'util';\nimport {_} from 'lodash';\nimport {SqlFormatter} from '@themost/query/formatter';\nimport {QueryExpression,QueryField} from \"@themost/query/query\";\nimport {TraceUtils} from \"themost/common/utils\";\nimport {SqlUtils} from \"themost/query/utils\";\n\n/**\n * @class\n * @augments DataAdapter\n * @property {string} connectString\n */\nexport class OracleAdapter {\n    /**\n     * @constructor\n     * @param {*} options\n     */\n    constructor(options) {\n        this.options = options || { host:'localhost' };\n        /**\n         * Represents the database raw connection associated with this adapter\n         * @type {*}\n         */\n        this.rawConnection = null;\n        let connectString;\n        //of options contains connectString parameter ignore all other params and define this as the database connection string\n        if (options.connectString) { connectString = options.connectString; }\n        Object.defineProperty(this, 'connectString', {\n            get: function() {\n                if (typeof connectString === 'string') {\n                    return connectString;\n                }\n                else {\n                    //generate connectString ([//]host_name[:port][/service_name][:server_type][/instance_name])\n                    //get hostname or localhost\n                    connectString = options.host || 'localhost';\n                    //append port\n                    if (typeof options.port !== 'undefined') { connectString += ':' + options.port; }\n                    if (typeof options.service !== 'undefined') { connectString += '/' + options.service; }\n                    if (typeof options.type !== 'undefined') { connectString += ':' + options.type; }\n                    if (typeof options.instance !== 'undefined') { connectString += '/' + options.instance; }\n                    return connectString;\n                }\n            }\n        });\n    }\n\n    open(callback) {\n        const self = this;\n        callback = callback || function() {};\n        if (self.rawConnection) {\n            callback();\n        }\n        else {\n            oracledb.getConnection(\n                {\n                    user          : this.options.user,\n                    password      : this.options.password,\n                    connectString : this.connectString\n                }, function(err, connection) {\n                    if (err) { return callback(err); }\n                    self.rawConnection = connection;\n                    callback();\n                });\n        }\n    }\n\n    close(callback) {\n        const self = this;\n        callback = callback || function() {};\n        try {\n            if (self.rawConnection)\n            {\n                //close connection\n                self.rawConnection.release(function(err) {\n                    if (process.env.NODE_ENV === 'development') {\n                        console.log('An error occured while closing database.');\n                        console.log(err.message);\n                        if (err.stack) { console.log(err.stack); }\n                    }\n                    //and finally return\n                    callback();\n                });\n            }\n            else {\n                callback();\n            }\n\n        }\n        catch (e) {\n            console.log('An error occured while closing database.');\n            console.log(e.message);\n            //call callback without error\n            callback();\n        }\n    }\n\n    /**\n     * @param {string} query\n     * @param {*=} values\n     */\n    prepare(query, values) {\n        return SqlUtils.prepare(query,values);\n    }\n\n    static formatType(field) {\n        const size = parseInt(field.size);\n        let s;\n        switch (field.type)\n        {\n            case 'Boolean':\n                s = 'NUMBER(1,0)';\n                break;\n            case 'Byte':\n                s = 'NUMBER(3,0)';\n                break;\n            case 'Number':\n                s = 'NUMBER(38)';\n                break;\n            case 'Float':\n                s = 'NUMBER(19,4)';\n                break;\n            case 'Counter':\n                return 'NUMBER(19,0)';\n            case 'Currency':\n                s =  'NUMBER(' + (field.size || 19) + ',4)';\n                break;\n            case 'Decimal':\n                s =  'NUMBER';\n                if ((field.size) && (field.scale)) {\n                    s += '(' + field.size + ',' + field.scale + ')';\n                }\n                else {\n                    s += '(19,4)';\n                }\n                break;\n            case 'Date':\n            case 'DateTime':\n                s = 'TIMESTAMP(6) WITH LOCAL TIME ZONE';\n                break;\n            case 'Time':\n                s = 'NUMBER(19,4)';\n                break;\n            case 'Long':\n            case 'Duration':\n                s = 'NUMBER(19,0)';\n                break;\n            case 'Integer':\n                s = 'NUMBER' + (field.size ? '(' + field.size + ',0)':'(19,0)' );\n                break;\n            case 'URL':\n            case 'Text':\n            case 'Note':\n                s =field.size ? util.format('NVARCHAR2(%s)', field.size) : 'NVARCHAR2(255)';\n                break;\n            case 'Image':\n            case 'Binary':\n                s ='LONG RAW';\n                break;\n            case 'Guid':\n                s = 'VARCHAR2(36)';\n                break;\n            case 'Short':\n                s = 'NUMBER(5,0)';\n                break;\n            default:\n                s = 'NUMBER(19,0)';\n                break;\n        }\n        if (field.primary) {\n            return s.concat(' NOT NULL');\n        }\n        else {\n            return s.concat((typeof field.nullable=== 'undefined' || field.nullable === null) ? ' NULL': (field.nullable ? ' NULL': ' NOT NULL'));\n        }\n    }\n\n    /**\n     * Begins a transactional operation by executing the given function\n     * @param fn {function} The function to execute\n     * @param callback {function(Error=)} The callback that contains the error -if any- and the results of the given operation\n     */\n    executeInTransaction(fn, callback) {\n        const self = this;\n        //ensure parameters\n        fn = fn || function() {}; callback = callback || function() {};\n        self.open(function(err) {\n            if (err) {\n                callback(err);\n            }\n            else {\n                if (self.transaction) {\n                    fn.call(self, function(err) {\n                        callback(err);\n                    });\n                }\n                else {\n                    //initialize dummy transaction object (for future use)\n                    self.transaction = { };\n                    //execute function\n                    fn.call(self, function(err) {\n                        if (err) {\n                            //rollback transaction\n                            self.rawConnection.rollback(function() {\n                                delete self.transaction;\n                                callback(err);\n                            });\n                        }\n                        else {\n                            //commit transaction\n                            self.rawConnection.commit(function(err) {\n                                delete self.transaction;\n                                callback(err);\n                            });\n                        }\n                    });\n                }\n            }\n        });\n    }\n\n    /**\n     *\n     * @param {string} name\n     * @param {QueryExpression|*} query\n     * @param {function(Error=)} callback\n     */\n    createView(name, query, callback) {\n        this.view(name).create(query, callback);\n    }\n\n    /*\n     * @param {DataModelMigration|*} obj An Object that represents the data model scheme we want to migrate\n     * @param {function(Error=)} callback\n     */\n    migrate(obj, callback) {\n        const self = this;\n        callback = callback || function() {};\n        if (typeof obj === 'undefined' || obj === null) { callback(); return; }\n        /**\n         * @type {DataModelMigration|*}\n         */\n        const migration = obj;\n\n        const format = function(format, obj)\n        {\n            let result = format;\n            if (/%t/.test(format))\n                result = result.replace(/%t/g,OracleAdapter.formatType(obj));\n            if (/%f/.test(format))\n                result = result.replace(/%f/g,obj.name);\n            return result;\n        };\n\n\n        async.waterfall([\n            //1. Check migrations table existence\n            function(cb) {\n                if (OracleAdapter.supportMigrations) {\n                    cb(null, true);\n                    return;\n                }\n                self.table('migrations').exists(function(err, exists) {\n                    if (err) { cb(err); return; }\n                    cb(null, exists);\n                });\n            },\n            //2. Create migrations table, if it does not exist\n            function(arg, cb) {\n                if (arg) { cb(null, 0); return; }\n                //create migrations table\n\n                async.eachSeries([\n                    'CREATE TABLE \"migrations\"(\"id\" NUMBER(10) NOT NULL, \"appliesTo\" NVARCHAR2(255) NOT NULL, \"model\" NVARCHAR2(255) NULL, ' +\n                    '\"description\" NVARCHAR2(255),\"version\" NVARCHAR2(24) NOT NULL, CONSTRAINT \"migrations_pk\" PRIMARY KEY (\"id\"))',\n                    'CREATE SEQUENCE \"migrations_id_seq\" START WITH 1 INCREMENT BY 1'\n                ], function(s, cb0) {\n                    self.execute(s, [], cb0);\n                }, function(err) {\n                    if (err) { return cb(err); }\n                    OracleAdapter.supportMigrations=true;\n                    return cb(null, 0);\n                });\n\n                //self.execute('CREATE TABLE \"migrations\"(\"id\" NUMBER(10) NOT NULL, ' +\n                //    '\"appliesTo\" NVARCHAR2(255) NOT NULL, \"model\" NVARCHAR2(255) NULL, ' +\n                //    '\"description\" NVARCHAR2(255),\"version\" NVARCHAR2(24) NOT NULL, ' +\n                //    'CONSTRAINT \"migrations_pk\" PRIMARY KEY (\"id\")); ' +\n                //    'CREATE SEQUENCE \"migrations_seq\" START WITH 1 INCREMENT BY 1; ' +\n                //    'CREATE TRIGGER \"migrations_auto_inc\" BEFORE INSERT ON \"migrations\" FOR EACH ROW BEGIN :new.\"id\" := \"migrations_seq\".nextval; END;',\n                //    [], function(err) {\n                //        if (err) { cb(err); return; }\n                //        OracleAdapter.supportMigrations=true;\n                //        cb(null, 0);\n                //    });\n            },\n            //3. Check if migration has already been applied (true=Table version is equal to migration version, false=Table version is older from migration version)\n            function(arg, cb) {\n                self.table(migration.appliesTo).version(function(err, version) {\n                    if (err) { cb(err); return; }\n                    cb(null, (version>=migration.version));\n                });\n            },\n            //4a. Check table existence (-1=Migration has already been applied, 0=Table does not exist, 1=Table exists)\n            function(arg, cb) {\n                //migration has already been applied (set migration.updated=true)\n                if (arg) {\n                    migration['updated']=true;\n                    cb(null, -1);\n                }\n                else {\n                    self.table(migration.appliesTo).exists(function(err, exists) {\n                        if (err) { cb(err); return; }\n                        cb(null, exists ? 1 : 0);\n                    });\n                }\n            },\n            //5. Migrate target table (create or alter)\n            function(arg, cb) {\n                //migration has already been applied (args[0]=-1)\n                if (arg < 0) {\n                    cb(null, arg);\n                }\n                else if (arg === 0) {\n                    self.table(migration.appliesTo).create(migration.add, function(err) {\n                        if (err) { return cb(err); }\n                        cb(null, 1);\n                    });\n                }\n                else if (arg === 1) {\n                    let column, newType, oldType;\n                    //validate operations\n                    const findColumnFunc = (name) => {\n                      return _.find(this, (x) => { return x.name === name; })  ;\n                    };\n\n                    //1. columns to be removed\n                    if (util.isArray(migration.remove)) {\n                        if (migration.remove.length>0) {\n                            return cb(new Error('Data migration remove operation is not supported by this adapter.'));\n                        }\n                    }\n                    //1. columns to be changed\n                    if (util.isArray(migration.change)) {\n                        if (migration.change.length>0) {\n                            return cb(new Error('Data migration change operation is not supported by this adapter. Use add collection instead.'));\n                        }\n                    }\n\n                    if (util.isArray(migration.add)) {\n                        //init change collection\n                        migration.change = [];\n                        //get table columns\n                        self.table(migration.appliesTo).columns(function(err, columns) {\n                            if (err) { return cb(err); }\n                            for (let i = 0; i < migration.add.length; i++) {\n                                const x = migration.add[i];\n                                column = findColumnFunc.bind(columns)(x.name);\n                                if (column) {\n                                    //if column is primary key remove it from collection\n                                    if (column.primary) {\n                                        migration.add.splice(i, 1);\n                                        i-=1;\n                                    }\n                                    else {\n                                        newType = format('%t', x);\n                                        if (column.precision !== null && column.scale !== null) {\n                                            oldType = util.format('%s(%s,%s) %s', column.type.toUpperCase(), column.precision.toString(), column.scale.toString(), (column.nullable ? 'NULL' : 'NOT NULL'));\n                                        }\n                                        else if (/^TIMESTAMP\\(\\d+\\) WITH LOCAL TIME ZONE$/i.test(column.type)) {\n                                            oldType=util.format('%s %s', column.type.toUpperCase(), (column.nullable ? 'NULL' : 'NOT NULL'));\n                                        }\n                                        else if (column.size !== null) {\n                                            oldType = util.format('%s(%s) %s', column.type.toUpperCase(), column.size.toString(), (column.nullable ? 'NULL' : 'NOT NULL'));\n                                        }\n                                        else {\n                                            oldType = util.format('%s %s', column.type.toUpperCase(), (column.nullable ? 'NULL' : 'NOT NULL'));\n                                        }\n                                        //remove column from collection\n                                        migration.add.splice(i, 1);\n                                        i-=1;\n                                        if (newType !== oldType) {\n                                            //add column to alter collection\n                                            migration.change.push(x);\n                                        }\n                                    }\n                                }\n                            }\n                            //alter table\n                            const targetTable = self.table(migration.appliesTo);\n                            //add new columns (if any)\n                            targetTable.add(migration.add, function(err) {\n                                if (err) { return cb(err); }\n                                //modify columns (if any)\n                                targetTable.change(migration.change, function(err) {\n                                    if (err) { return cb(err); }\n                                    cb(null, 1);\n                                });\n                            });\n                        });\n                    }\n                    else {\n                        cb(new Error('Invalid migration data.'));\n                    }\n                }\n                else {\n                    cb(new Error('Invalid table status.'));\n                }\n            },\n            function(arg, cb) {\n                if (arg>0) {\n                    //log migration to database\n                    self.execute('INSERT INTO \"migrations\"(\"id\",\"appliesTo\", \"model\", \"version\", \"description\") VALUES (\"migrations_id_seq\".nextval,?,?,?,?)', [migration.appliesTo,\n                        migration.model,\n                        migration.version,\n                        migration.description ], function(err, result) {\n                        if (err)  {\n                            cb(err);\n                            return;\n                        }\n                        cb(null, 1);\n                    });\n                }\n                else {\n                    migration['updated'] = true;\n                    cb(null, arg);\n                }\n            }\n        ], function(err) {\n            callback(err);\n        });\n\n    }\n\n    /**\n     * Produces a new identity value for the given entity and attribute.\n     * @param entity {String} The target entity name\n     * @param attribute {String} The target attribute\n     * @param callback {Function=}\n     */\n    selectIdentity(entity, attribute, callback) {\n\n        const self = this;\n        //format sequence name ([entity]_[attribute]_seg e.g. user_id_seq)\n        const name = entity + \"_\" + attribute + \"_seq\";\n        //search for sequence\n        self.execute('SELECT SEQUENCE_OWNER,SEQUENCE_NAME FROM ALL_SEQUENCES WHERE \"SEQUENCE_NAME\" = ?', [name], function(err, result) {\n            if (err) { return callback(err); }\n            if (result.length===0) {\n                self.execute(util.format('CREATE SEQUENCE \"%s\" START WITH 1 INCREMENT BY 1', name), [], function(err, result) {\n                    if (err) { return callback(err); }\n                    //get next value\n                    self.execute(util.format('SELECT \"%s\".nextval AS \"resultId\" FROM DUAL', name), [], function(err, result) {\n                        if (err) { return callback(err); }\n                        callback(null, result[0]['resultId']);\n                    });\n                });\n            }\n            else {\n                //get next value\n                self.execute(util.format('SELECT \"%s\".nextval AS \"resultId\" FROM DUAL', name), [], function(err, result) {\n                    if (err) { return callback(err); }\n                    callback(null, result[0]['resultId']);\n                });\n            }\n        });\n    }\n\n    /**\n     * Produces a new counter auto increment value for the given entity and attribute.\n     * @param entity {String} The target entity name\n     * @param attribute {String} The target attribute\n     * @param callback {Function=}\n     */\n    nextIdentity(entity, attribute, callback) {\n        this.selectIdentity(entity, attribute , callback);\n    }\n\n    /**\n     * Executes an operation against database and returns the results.\n     * @param {DataModelBatch} batch\n     * @param {function(Error=)} callback\n     */\n    executeBatch(batch, callback) {\n        callback = callback || function() {};\n        callback(new Error('DataAdapter.executeBatch() is obsolete. Use DataAdapter.executeInTransaction() instead.'));\n    }\n\n    table(name) {\n        const self = this;\n        let owner;\n        let table;\n        const matches = /(\\w+)\\.(\\w+)/.exec(name);\n        if (matches) {\n            //get schema owner (the first part of the string provided)\n            owner = matches[1];\n            //get table name (the second part of the string provided)\n            table = matches[2];\n        }\n        else {\n            //get table name (the whole string provided)\n            table = name;\n            //get schema name (from options)\n            if (self.options && self.options.schema) {\n                owner = self.options.schema;\n            }\n        }\n\n        const format = function(format, obj)\n        {\n            let result = format;\n            if (/%t/.test(format))\n                result = result.replace(/%t/g,OracleAdapter.formatType(obj));\n            if (/%f/.test(format))\n                result = result.replace(/%f/g,obj.name);\n            return result;\n        };\n\n        return {\n            /**\n             * @param {function(Error,Boolean=)} callback\n             */\n            exists:function(callback) {\n                let sql;\n                if (typeof owner === 'undefined' || owner === null) {\n                    sql = 'SELECT COUNT(*) AS \"count\" FROM ALL_OBJECTS WHERE object_type IN (\\'TABLE\\') AND object_name = ?';\n                }\n                else {\n                    sql = 'SELECT COUNT(*) AS \"count\" FROM ALL_OBJECTS WHERE object_type IN (\\'TABLE\\') AND object_name = ? AND REGEXP_LIKE(owner,?,\\'i\\')';\n                }\n                self.execute(sql, [table, '^' + owner + '$'], function(err, result) {\n                    if (err) { callback(err); return; }\n                    callback(null, (result[0].count>0));\n                });\n            },\n            /**\n             * @param {function(Error,string=)} callback\n             */\n            version:function(callback) {\n                self.execute('SELECT MAX(\"version\") AS \"version\" FROM \"migrations\" WHERE \"appliesTo\"=?',\n                    [name], function(err, result) {\n                        if (err) { cb(err); return; }\n                        if (result.length===0)\n                            callback(null, '0.0');\n                        else\n                            callback(null, result[0].version || '0.0');\n                    });\n            },\n            /**\n             * @param {function(Error,Boolean=)} callback\n             */\n            hasSequence:function(callback) {\n                callback = callback || function() {};\n                self.execute('SELECT COUNT(*) AS \"count\" FROM ALL_SEQUENCES WHERE SEQUENCE_NAME=?',\n                    [ table + '_seq' ], function(err, result) {\n                        if (err) { callback(err); return; }\n                        callback(null, (result[0].count>0));\n                    });\n            },\n            /**\n             * @param {function(Error=,Array=)} callback\n             */\n            columns:function(callback) {\n                callback = callback || function() {};\n\n                /*\n                 SELECT c0.COLUMN_NAME AS \"name\", c0.DATA_TYPE AS \"type\", ROWNUM AS \"ordinal\",\n                 c0.DATA_LENGTH AS \"size\", c0.DATA_SCALE AS \"scale\", CASE WHEN c0.NULLABLE='Y'\n                 THEN 1 ELSE 0 END AS \"nullable\", CASE WHEN t0.CONSTRAINT_TYPE='P' THEN 1 ELSE 0 END AS \"primaryKey\"\n                 FROM ALL_TAB_COLUMNS c0 LEFT JOIN (SELECT cols.table_name, cols.column_name, cols.owner, cons.constraint_type\n                 FROM all_constraints cons, all_cons_columns cols WHERE cons.constraint_type = 'P'\n                 AND cons.constraint_name = cols.constraint_name AND cons.owner = cols.owner) t0 ON c0.TABLE_NAME=t0.TABLE_NAME\n                 AND c0.OWNER=t0.OWNER AND c0.COLUMN_NAME=t0.COLUMN_NAME WHERE c0.TABLE_NAME = ?\n                */\n\n                let sql = 'SELECT c0.COLUMN_NAME AS \"name\", c0.DATA_TYPE AS \"type\", ROWNUM AS \"ordinal\", CASE WHEN c0.\"CHAR_LENGTH\">0 THEN c0.\"CHAR_LENGTH\" ELSE c0.DATA_LENGTH END as \"size\", ' +\n                    'c0.DATA_SCALE AS \"scale\", c0.DATA_PRECISION AS \"precision\", CASE WHEN c0.NULLABLE=\\'Y\\' THEN 1 ELSE 0 END AS \"nullable\", CASE WHEN t0.CONSTRAINT_TYPE=\\'P\\' ' +\n                'THEN 1 ELSE 0 END AS \"primary\" FROM ALL_TAB_COLUMNS c0 LEFT JOIN (SELECT cols.table_name, cols.column_name, cols.owner, ' +\n                'cons.constraint_type FROM all_constraints cons, all_cons_columns cols WHERE cons.constraint_type = \\'P\\' ' +\n                'AND cons.constraint_name = cols.constraint_name AND cons.owner = cols.owner) t0 ON c0.TABLE_NAME=t0.TABLE_NAME ' +\n                'AND c0.OWNER=t0.OWNER AND c0.COLUMN_NAME=t0.COLUMN_NAME WHERE c0.TABLE_NAME = ?';\n                if (owner) { sql += ' AND REGEXP_LIKE(c0.OWNER,?,\\'i\\')'; }\n                self.execute(sql, [name, '^' + owner + '$'], function(err, result) {\n                        if (err) { callback(err); return; }\n                        callback(null, result);\n                    });\n            },\n            /**\n             * @param {{name:string,type:string,primary:boolean|number,nullable:boolean|number,size:number, scale:number,precision:number,oneToMany:boolean}[]|*} fields\n             * @param callback\n             */\n            create: function(fields, callback) {\n                callback = callback || function() {};\n                fields = fields || [];\n                if (!util.isArray(fields)) {\n                    return callback(new Error('Invalid argument type. Expected Array.'));\n                }\n                if (fields.length === 0) {\n                    return callback(new Error('Invalid argument. Fields collection cannot be empty.'));\n                }\n                let strFields = _.map(\n                    _.filter(fields, (x) => {\n                        return !x.oneToMany;\n                    }),\n                    (x) => {\n                        return format('\"%f\" %t', x);\n                    }).join(', ');\n\n                //get table qualified name\n                let strTable = '';\n\n                const formatter = new OracleFormatter();\n                if (typeof owner !== 'undefined') { strTable = formatter.escapeName(owner) + \".\"; }\n                strTable += formatter.escapeName(table);\n                //add primary key constraint\n                const strPKFields = _.map(_.find(fields, (x) => { return (x.primary === true || x.primary === 1); }),\n                    (x) => {\n                    return formatter.escapeName(x.name);\n                }).join(', ');\n                if (strPKFields.length>0) {\n                    strFields += ', ' + util.format('CONSTRAINT \"%s_pk\" PRIMARY KEY (%s)', table, strPKFields);\n                }\n                const sql = util.format('CREATE TABLE %s (%s)', strTable, strFields);\n                self.execute(sql, null, function(err) {\n                    callback(err);\n                });\n            },\n            /**\n             * Alters the table by adding an array of fields\n             * @param {{name:string,type:string,primary:boolean|number,nullable:boolean|number,size:number,oneToMany:boolean}[]|*} fields\n             * @param callback\n             */\n            add:function(fields, callback) {\n                callback = callback || function() {};\n                fields = fields || [];\n                if (!util.isArray(fields)) {\n                    //invalid argument exception\n                    return callback(new Error('Invalid argument type. Expected Array.'));\n                }\n                if (fields.length === 0) {\n                    //do nothing\n                    return callback();\n                }\n                const strFields = fields.map(function(x) {\n                    return format('\"%f\" %t', x);\n                }).join(', ');\n\n                //get table qualified name\n                let strTable = '';\n\n                const formatter = new OracleFormatter();\n                if (typeof owner !== 'undefined') { strTable = formatter.escapeName(owner) + \".\"; }\n                strTable += formatter.escapeName(table);\n                //generate SQL statement\n                const sql = util.format('ALTER TABLE %s ADD (%s)', strTable, strFields);\n                self.execute(sql, [], function(err) {\n                    callback(err);\n                });\n            },\n            /**\n             * Alters the table by modifying an array of fields\n             * @param {{name:string,type:string,primary:boolean|number,nullable:boolean|number,size:number,oneToMany:boolean}[]|*} fields\n             * @param callback\n             */\n            change:function(fields, callback) {\n                callback = callback || function() {};\n                fields = fields || [];\n                if (!util.isArray(fields)) {\n                    //invalid argument exception\n                    return callback(new Error('Invalid argument type. Expected Array.'));\n                }\n                if (fields.length === 0) {\n                    //do nothing\n                    return callback();\n                }\n                const strFields = fields.map(function(x) {\n                    return format('\"%f\" %t', x);\n                }).join(', ');\n\n                //get table qualified name\n                let strTable = '';\n\n                const formatter = new OracleFormatter();\n                if (typeof owner !== 'undefined') { strTable = formatter.escapeName(owner) + \".\"; }\n                strTable += formatter.escapeName(table);\n                //generate SQL statement\n                const sql = util.format('ALTER TABLE %s MODIFY (%s)', strTable, strFields);\n                self.execute(sql, [], function(err) {\n                    callback(err);\n                });\n            }\n        };\n    }\n\n    view(name) {\n        const self = this;\n        let owner;\n        let view;\n\n        const matches = /(\\w+)\\.(\\w+)/.exec(name);\n        if (matches) {\n            //get schema owner\n            owner = matches[1];\n            //get table name\n            view = matches[2];\n        }\n        else {\n            view = name;\n        }\n        return {\n            /**\n             * @param {function(Error,Boolean=)} callback\n             */\n            exists:function(callback) {\n                let sql = 'SELECT COUNT(*) AS \"count\" FROM ALL_OBJECTS WHERE object_type IN (\\'VIEW\\') AND object_name = ?';\n                if (typeof owner !== 'undefined') {\n                    sql += ' AND REGEXP_LIKE(owner,?,\\'i\\')';\n                }\n                self.execute(sql, [name, '^' + (owner || '') + '$'], function(err, result) {\n                    if (err) { callback(err); return; }\n                    callback(null, (result[0].count>0));\n                });\n            },\n            /**\n             * @param {function(Error=)} callback\n             */\n            drop:function(callback) {\n                callback = callback || function() {};\n                self.open(function(err) {\n                   if (err) { return callback(err); }\n\n                    let sql = 'SELECT COUNT(*) AS \"count\" FROM ALL_OBJECTS WHERE object_type IN (\\'VIEW\\') AND object_name = ?';\n                    if (typeof owner !== 'undefined') {\n                        sql += ' AND REGEXP_LIKE(owner,?,\\'i\\')';\n                    }\n                    self.execute(sql, [name, '^' + (owner || '') + '$'], function(err, result) {\n                        if (err) { return callback(err); }\n                        const exists = (result[0].count>0);\n                        if (exists) {\n                            const sql = util.format('DROP VIEW \"%s\"',name);\n                            self.execute(sql, undefined, function(err) {\n                                if (err) { callback(err); return; }\n                                callback();\n                            });\n                        }\n                        else {\n                            callback();\n                        }\n                    });\n                });\n            },\n            /**\n             * @param {QueryExpression|*} q\n             * @param {function(Error=)} callback\n             */\n            create:function(q, callback) {\n                const thisArg = this;\n                self.executeInTransaction(function(tr) {\n                    thisArg.drop(function(err) {\n                        if (err) { tr(err); return; }\n                        try {\n                            let sql = util.format('CREATE VIEW \"%s\" AS ',name);\n                            const formatter = new OracleFormatter();\n                            sql += formatter.format(q);\n                            self.execute(sql, [], tr);\n                        }\n                        catch(e) {\n                            tr(e);\n                        }\n                    });\n                }, function(err) {\n                    callback(err);\n                });\n\n            }\n        };\n    }\n\n    /**\n     * Executes a query against the underlying database\n     * @param query {QueryExpression|string|*}\n     * @param values {*=}\n     * @param {function(Error=,*=)} callback\n     */\n    execute(query, values, callback) {\n        const self = this;\n        let sql = null;\n        try {\n\n            if (typeof query === 'string') {\n                //get raw sql statement\n                sql = query;\n            }\n            else {\n                //format query expression or any object that may be act as query expression\n                const formatter = new OracleFormatter();\n                sql = formatter.format(query);\n                //if query is fixed (an SQL expression without any table definition)\n                if (query.$fixed === true) {\n                    //use dymmy oracle table DUAL\n                    sql += ' FROM DUAL';\n                }\n            }\n            //validate sql statement\n            if (typeof sql !== 'string') {\n                callback.call(self, new Error('The executing command is of the wrong type or empty.'));\n                return;\n            }\n            //ensure connection\n            self.open(function(err) {\n                if (err) {\n                    callback.call(self, err);\n                }\n                else {\n                    //log statement (optional)\n                    if (process.env.NODE_ENV==='development')\n                        console.log(util.format('SQL:%s, Parameters:%s', sql, JSON.stringify(values)));\n                    //prepare statement - the traditional way\n                    const prepared = self.prepare(sql, values);\n                    //execute raw command\n                    self.rawConnection.execute(prepared,[], {outFormat: oracledb.OBJECT, autoCommit: (typeof self.transaction === 'undefined') }, function(err, result) {\n                        if (err) {\n                            //log sql\n                            console.log(util.format('SQL Error:%s', prepared));\n                            callback(err);\n                        }\n                        else {\n                            if (result)\n                                callback(null, result.rows);\n                            else\n                                callback();\n                        }\n                    });\n                }\n            });\n        }\n        catch (e) {\n            callback.call(self, e);\n        }\n    }\n}\n\nfunction zeroPad(number, length) {\n    number = number || 0;\n    let res = number.toString();\n    while (res.length < length) {\n        res = '0' + res;\n    }\n    return res;\n}\n\n/**\n * @class\n * @augments {SqlFormatter}\n */\nexport class OracleFormatter extends SqlFormatter {\n    /**\n     * @constructor\n     */\n    constructor() {\n        super();\n        this.settings = {\n            nameFormat:OracleFormatter.NAME_FORMAT,\n            forceAlias:true\n        };\n    }\n\n    escapeName(name) {\n        if (typeof name === 'string')\n            return name.replace(/(\\w+)/ig, this.settings.nameFormat);\n        return name;\n    }\n\n    /**\n     * Escapes an object or a value and returns the equivalent sql value.\n     * @param {*} value - A value that is going to be escaped for SQL statements\n     * @param {boolean=} unquoted - An optional value that indicates whether the resulted string will be quoted or not.\n     * returns {string} - The equivalent SQL string value\n     */\n    escape(value, unquoted) {\n        if (typeof value === 'boolean') { return value ? '1' : '0'; }\n        if (value instanceof Date) {\n            return util.format('TO_TIMESTAMP_TZ(%s, \\'YYYY-MM-DD HH24:MI:SS.FF3TZH:TZM\\')', this.escapeDate(value));\n        }\n        let res = super.escape.bind(this)(value, unquoted);\n        if (typeof value === 'string') {\n            if (/\\\\'/g.test(res)) {\n                //escape single quote (that is already escaped)\n                res = res.replace(/\\\\'/g, SINGLE_QUOTE_ESCAPE);\n                if (/\\\\\"/g.test(res))\n                //escape double quote (that is already escaped)\n                    res = res.replace(/\\\\\"/g, DOUBLE_QUOTE_ESCAPE);\n                if (/\\\\\\\\/g.test(res))\n                //escape slash (that is already escaped)\n                    res = res.replace(/\\\\\\\\/g, SLASH_ESCAPE);\n            }\n        }\n        return res;\n    }\n\n    /**\n     * @param {Date|*} val\n     * @returns {string}\n     */\n    escapeDate(val) {\n        const year   = val.getFullYear();\n        const month  = zeroPad(val.getMonth() + 1, 2);\n        const day    = zeroPad(val.getDate(), 2);\n        const hour   = zeroPad(val.getHours(), 2);\n        const minute = zeroPad(val.getMinutes(), 2);\n        const second = zeroPad(val.getSeconds(), 2);\n        //var millisecond = zeroPad(dt.getMilliseconds(), 3);\n        //format timezone\n        const offset = (new Date()).getTimezoneOffset(), timezone = (offset<=0 ? '+' : '-') + zeroPad(-Math.floor(offset/60),2) + ':' + zeroPad(offset%60,2);\n        return \"'\" + year + '-' + month + '-' + day + ' ' + hour + ':' + minute + ':' + second + \".\" + zeroPad(val.getMilliseconds(), 3) + timezone + \"'\";\n    }\n\n    /**\n     *\n     * @param {QueryExpression} obj\n     * @returns {string}\n     */\n    formatLimitSelect(obj) {\n\n        const sql=this.formatSelect(obj);\n        if (obj.$take) {\n            if (obj.$skip) {\n                return 'SELECT * FROM ( ' +  sql + ' ) where ROWNUM <= ' + (obj.$take + obj.$skip).toString() + ' ROWNUM > ' + obj.$skip.toString();\n            }\n            else {\n                return 'SELECT * FROM ( ' +  sql + ' ) where ROWNUM <= ' + obj.$take.toString();\n            }\n        }\n        return sql;\n    }\n\n    /**\n     * Implements indexOf(str,substr) expression formatter.\n     * @param {string} p0 The source string\n     * @param {string} p1 The string to search for\n     * @returns {string}\n     */\n    $indexof(p0, p1) {\n        return util.format('(INSTR(%s,%s)-1)', this.escape(p0), this.escape(p1));\n    }\n\n    /**\n     * Implements contains(a,b) expression formatter.\n     * @param {string} p0 The source string\n     * @param {string} p1 The string to search for\n     * @returns {string}\n     */\n    $text(p0, p1) {\n        return util.format('(INSTR(%s,%s)-1)>=0', this.escape(p0), this.escape(p1));\n    }\n\n    /**\n     * Implements concat(a,b) expression formatter.\n     * @param {*} p0\n     * @param {*} p1\n     * @returns {string}\n     */\n    $concat(p0, p1) {\n        return util.format('CONCAT(%s,%s)', this.escape(p0),  this.escape(p1));\n    }\n\n    /**\n     * Implements substring(str,pos) expression formatter.\n     * @param {String} p0 The source string\n     * @param {Number} pos The starting position\n     * @param {Number=} length The length of the resulted string\n     * @returns {string}\n     */\n    $substring(p0, pos, length) {\n        if (length)\n            return util.format('SUBSTR(%s,%s,%s)', this.escape(p0), pos.valueOf()+1, length.valueOf());\n        else\n            return util.format('SUBSTR(%s,%s)', this.escape(p0), pos.valueOf()+1);\n    }\n\n    /**\n     * Implements length(a) expression formatter.\n     * @param {*} p0\n     * @returns {string}\n     */\n    $length(p0) {\n        return util.format('LENGTH(%s)', this.escape(p0));\n    }\n\n    $ceiling(p0) {\n        return util.format('CEIL(%s)', this.escape(p0));\n    }\n\n    $startswith(p0, p1) {\n        //validate params\n        if ( _.isNil(p0) ||  _.isNil(p1))\n            return '';\n        return 'REGEXP_LIKE(' + this.escape(p0) + ',\\'^' + this.escape(p1, true) + '\\')';\n    }\n\n    $contains(p0, p1) {\n        //validate params\n        if ( _.isNil(p0) ||  _.isNil(p1))\n            return '';\n        return 'REGEXP_LIKE(' + this.escape(p0) + ',\\'' + this.escape(p1, true) + '\\')';\n    }\n\n    $endswith(p0, p1) {\n        //validate params\n        if ( _.isNil(p0) ||  _.isNil(p1))\n            return '';\n        return 'REGEXP_LIKE(' + this.escape(p0) + ',\\'' + this.escape(p1, true) + '$\\')';\n    }\n\n    $day(p0) {\n        return util.format('EXTRACT(DAY FROM %s)', this.escape(p0)) ;\n    }\n\n    $month(p0) {\n        return util.format('EXTRACT(MONTH FROM %s)', this.escape(p0)) ;\n    }\n\n    $year(p0) {\n        return util.format('EXTRACT(YEAR FROM %s)', this.escape(p0)) ;\n    }\n\n    $hour(p0) {\n        return util.format('EXTRACT(HOUR FROM %s)', this.escape(p0)) ;\n    }\n\n    $minute(p0) {\n        return util.format('EXTRACT(MINUTE FROM %s)', this.escape(p0)) ;\n    }\n\n    $second(p0) {\n        return util.format('EXTRACT(SECOND FROM %s)', this.escape(p0)) ;\n    }\n\n    $date(p0) {\n        //alternative date solution: 'TO_TIMESTAMP_TZ(TO_CHAR(%s, 'YYYY-MM-DD'),'YYYY-MM-DD')'\n        return util.format('TRUNC(%s)', this.escape(p0)) ;\n    }\n\n    /**\n     * Implements contains(a,b) expression formatter.\n     * @param {string} p0 The source string\n     * @param {string} p1 The string to search for\n     * @returns {string}\n     */\n    $regex(p0, p1) {\n        //validate params\n        if ( _.isNil(p0) ||  _.isNil(p1))\n            return '';\n        return 'REGEXP_LIKE(' + this.escape(p0) + ',\\'' + this.escape(p1, true) + '\\')';\n    }\n}\n\nOracleFormatter.NAME_FORMAT = '\"$1\"';\n\nconst REGEXP_SINGLE_QUOTE=/\\\\'/g,\n    SINGLE_QUOTE_ESCAPE ='\\'\\'',\n    REGEXP_DOUBLE_QUOTE=/\\\\\"/g,\n    DOUBLE_QUOTE_ESCAPE = '\"',\n    REGEXP_SLASH=/\\\\\\\\/g,\n    SLASH_ESCAPE = '\\\\';\n\n/**\n * Creates an instance of OracleAdapter object that represents an Oracle database connection.\n * @param {*} options An object that represents the properties of the underlying database connection.\n * @returns {DataAdapter|*}\n */\nexport function createInstance(options) {\n    return new OracleAdapter(options);\n}\n"]}